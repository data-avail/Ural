// Generated by CoffeeScript 1.3.3
(function() {
  var factory;

  factory = function(ko, exports) {
    ko.validation.rules['notNullRef'] = {
      validator: function(val, otherVal) {
        return !val || val.id() !== __g.nullRefVal();
      },
      message: "Поле должно быть заполнено."
    };
    ko.validation.rules['lte'] = {
      validator: function(val, otherVal) {
        return val <= otherVal();
      },
      message: "Поле 'от' должно быть меньше или равно полю 'по'."
    };
    ko.validation.rules['dmin'] = {
      validator: function(val, otherVal) {
        return moment(val).sod().diff(moment(otherVal).sod()) >= 0;
      },
      message: function(val) {
        return "Дата должна быть больше {0}.";
      }
    };
    ko.validation.rules['dmax'] = {
      validator: function(val, otherVal) {
        return moment(otherVal).sod().diff(moment(val).sod()) >= 0;
      },
      message: "Дата должна быть меньше {0}."
    };
    return ko.validation.validable = function(item) {
      return item.errors = ko.validation.group(item);
    };
  };

  if (typeof require === "function" && typeof exports === "object" && typeof module === "object") {
    factory(require("knockout"), exports);
  } else if (typeof define === "function" && define["amd"]) {
    define(["knockout", "exports"], factory);
  } else {
    factory(ko, ko.mapping = {});
  }

}).call(this);
